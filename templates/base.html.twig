<!DOCTYPE html>
<html lang="{{ app.request.locale|split('_')[0] }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    {#        <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">#}
    {% block stylesheets %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/onsenui@2.12.8/css/onsenui.min.css">
        {#            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/onsenui@2.12.8/css/onsenui-core.min.css">#}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/onsenui@2.12.8/css/onsen-css-components.min.css">

    {% endblock %}

    {% block javascripts %}
{#        <script src="{{ url('bazinga_jstranslation_js') }}"></script>#}
        {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}
    {{ pwa() }}
</head>

{#    {% set _appController = 'app' %}#}
{# app_controller handles navigation #}
<body>
<div id="app" {{ stimulus_controller(_app_sc) }} >
{% block body %}{% endblock %}
</div>

{{ block('templates') }}

<template id="layout">
    <ons-toolbar id="{{ pageId|default('index') }}-toolbar">
        <div class="left">
            <ons-back-button></ons-back-button>
        </div>

        <div class="left">
            <ons-toolbar-button icon="md-face"></ons-toolbar-button>
        </div>

        <div class="center" {{ stimulus_target('app','page_title') }}>
            {{ pageId|default('index') }}
        </div>
        <div class="right">
            <ons-toolbar-button>-</ons-toolbar-button>
            <ons-toolbar-button>+</ons-toolbar-button>
        </div>
    </ons-toolbar>
</template>

</body>
</html>
